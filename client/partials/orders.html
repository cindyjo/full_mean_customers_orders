<div class="container-fluid" ng-controller="ordersController as oc">
	<div ng-controller = "customersController as cc">
		<div class="row">
			<div class="col-md-12">
				<h3><u>Add a new order</u></h3>
			</div>
		</div><br>
		<div class="row">
			<div class="col-md-7">
				<form class="form-horizontal">
					<div class="form-group">
						<label class="col-sm-2 control-label">Customer</label>
						<div class="col-sm-6">
							<select class = "form-control" name="customer_name" ng-model = "oc.newOrder.customer_name">
								<option value=""></option>
								<option ng-repeat = "customer in cc.customers">{{customer.name}}</option>
							</select>
							<p>{{oc.err.customer_name}}</p>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-1 control-label">Order</label>
						<div class="col-sm-2">
							<select class = "form-control" name="qty" ng-model = "oc.newOrder.qty">
								<option></option>
								<option ng-repeat = "qty in oc.qty">{{qty.qty}}</option>	
							</select>
							<p>{{oc.err.qty}}</p>
						</div>
						<div class="col-sm-5">
							<select class = "form-control" ng-model="oc.newOrder.product_name">
								<option></option>
								<option ng-repeat = "product in oc.products" value ="{{product.name}}">{{product.name}}</option>
							</select>
							<p>{{oc.err.product_name}}</p>
						</div>
					</div>
					<div class="form-group">
	    				<div class="col-sm-offset-6 col-sm-2">
	      					<input type="submit" class="btn btn-default" value = "Order" ng-click = "oc.addOrder()"></button>
	   					</div>
	 			 	</div>
				</form>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-10"></div>
		<div class="col-md-2">
			<input id="search" type="text" ng-model ="filter_name" placeholder ="filter...">
		</div>
	</div><br>
	<div class="row">
		<div class="col-md-12">
			<table class="table table-striped">
				<tr>
					<th>Customer Name</th>
					<th>Product</th>
					<th>Quantity</th>
					<th>Date</th>
				</tr>
				<tr ng-repeat = "order in oc.orders | orderBy: '-created_at' | filter: filter_name" >
					<td ng-bind ="order.customer_name"></td>
					<td ng-bind ="order.product_name"></td>
					<td ng-bind ="order.qty"></td>
					<td ng-bind ="order.created_at | date"></td>
				</tr>
			</table>
		</div>
	</div>
</div>

